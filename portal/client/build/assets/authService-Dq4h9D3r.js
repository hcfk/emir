import{y as t,z as c,A as a,B as n}from"./index-BSsz9qxB.js";var l=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M384,200V144a128,128,0,0,0-256,0v56H88V328c0,92.635,75.364,168,168,168s168-75.365,168-168V200ZM160,144a96,96,0,0,1,192,0v56H160ZM392,328c0,74.99-61.01,136-136,136s-136-61.01-136-136V232H392Z' class='ci-primary'/>"];const g={async login(o){var e;try{const s=(await t.post("/auth/login",o)).data;return console.log("User logged in:",s),localStorage.setItem("token",s.token),console.log("Token stored in localStorage"),c.dispatch(n({token:s.token,user:s.user})),console.log("loginSuccess dispatched"),s}catch(r){throw console.error("Login error:",r),((e=r.response)==null?void 0:e.data)||{message:"An error occurred during login"}}},async logout(){try{localStorage.removeItem("token"),c.dispatch(a())}catch(o){throw console.error("Logout error:",o),{message:"An error occurred during logout"}}},async register(o){var e;try{const r=await t.post("/auth/register",o);console.log("User registered:")}catch(r){throw console.error("Registration error:",r),((e=r.response)==null?void 0:e.data)||{message:"An error occurred during registration"}}}};export{g as a,l as c};
