import{r as t,_ as R,R as S,a as P,c as k,P as u,k as I,j as e,L as G}from"./index-BSsz9qxB.js";import{C as U,a as g}from"./index.esm-Djzhg_cN.js";import{c as E,a as F}from"./authService-Dq4h9D3r.js";import{C as j,a as l}from"./CRow-dc-zHPub.js";import{C,a as f}from"./CCardBody-D3Dx3XpO.js";import{C as T}from"./CForm-CiFAbnKG.js";import{C as y,a as N}from"./CInputGroupText-BwAHbuRa.js";import{c as _}from"./cil-user-Ddrdy7PS.js";import{C as v}from"./CFormInput-DYeOzx3L.js";import{a as d}from"./CButton-CAzkA97O.js";import"./CFormLabel-AmSnGjPJ.js";var m=t.forwardRef(function(s,i){var r=s.children,c=s.className,o=R(s,["children","className"]);return S.createElement("div",P({className:k("card-group",c)},o,{ref:i}),r)});m.propTypes={children:u.node,className:u.string};m.displayName="CCardGroup";const V=()=>{const[s,i]=t.useState(""),[r,c]=t.useState(""),[o,p]=t.useState(!1),w=I(),L=async a=>{var h,x;console.log("handleLogin entered"),a.preventDefault(),p(!0);try{const n=await F.login({username:s,password:r});console.log("User logged in:",n);const b=((x=(h=location.state)==null?void 0:h.from)==null?void 0:x.pathname)||"/";w(b,{replace:!0})}catch(n){console.log("Login failed:",n),alert(n.message||"Login failed. Please try again.")}finally{p(!1)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(U,{children:e.jsx(j,{className:"justify-content-center",children:e.jsx(l,{md:8,children:e.jsxs(m,{children:[e.jsx(C,{className:"p-4",children:e.jsx(f,{children:e.jsxs(T,{onSubmit:L,children:[e.jsx("h1",{children:"Login"}),e.jsx("p",{className:"text-body-secondary",children:"Sign in to your account"}),e.jsxs(y,{className:"mb-3",children:[e.jsx(N,{children:e.jsx(g,{icon:_})}),e.jsx(v,{id:"username",name:"username",placeholder:"Username",autoComplete:"username",value:s,onChange:a=>i(a.target.value)})]}),e.jsxs(y,{className:"mb-4",children:[e.jsx(N,{children:e.jsx(g,{icon:E})}),e.jsx(v,{id:"password",name:"password",type:"password",placeholder:"Password",autoComplete:"current-password",value:r,onChange:a=>c(a.target.value)})]}),e.jsxs(j,{children:[e.jsx(l,{xs:6,children:e.jsx(d,{color:"primary",className:"px-4",type:"submit",disabled:o,children:o?"Logging in...":"Login"})}),e.jsx(l,{xs:6,className:"text-right",children:e.jsx(d,{color:"link",className:"px-0",children:"Forgot Password?"})})]})]})})}),e.jsx(C,{className:"text-white bg-primary py-5",style:{width:"44%"},children:e.jsx(f,{className:"text-center",children:e.jsxs("div",{children:[e.jsx("h2",{children:"Register"}),e.jsx("p",{children:"Don't have an account yet?"}),e.jsxs("p",{children:["Sign up now and discover ",e.jsx("b",{children:"visualdatacore Â©2025"})]}),e.jsx(G,{to:"/register",children:e.jsx(d,{color:"primary",className:"mt-3",active:!0,tabIndex:-1,children:"Register Now!"})})]})})})]})})})})})};export{V as default};
