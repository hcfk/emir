import{r,k as N,j as e}from"./index-BSsz9qxB.js";import{C as k,a as m}from"./index.esm-Djzhg_cN.js";import{c as x,a as S}from"./authService-Dq4h9D3r.js";import{C as U,a as E}from"./CRow-dc-zHPub.js";import{C as L,a as I}from"./CCardBody-D3Dx3XpO.js";import{C as K}from"./CForm-CiFAbnKG.js";import{C as o,a as n}from"./CInputGroupText-BwAHbuRa.js";import{c as R}from"./cil-user-Ddrdy7PS.js";import{C as l}from"./CFormInput-DYeOzx3L.js";import{a as z}from"./CButton-CAzkA97O.js";import"./CFormLabel-AmSnGjPJ.js";const J=()=>{const[i,C]=r.useState(""),[u,f]=r.useState(""),[c,j]=r.useState(""),[d,g]=r.useState(""),[h,p]=r.useState(!1),y=N(),v=s=>{const t=/[çÇğĞıİöÖşŞüÜ]/,a=/[^a-zA-Z0-9.-]/,w=/\s/;return t.test(s)?"user Naame shall not include Turkish Characters":w.test(s)?"User Name shall not include spaces":a.test(s)?"Username can only contain letters, numbers, dots (.) and hyphens (-)!":null},b=async s=>{s.preventDefault();const t=v(i);if(t){alert(t);return}if(c!==d){alert("Şifreler eşleşmiyor!");return}p(!0);try{const a=await S.register({username:i.toLowerCase(),email:u,password:c,role:"normal",isActive:!1});alert("Kayıt başarılı!"),y("/login")}catch(a){console.error("Kayıt hatası:",a),alert(a.message||"Kayıt sırasında bir hata oluştu. Lütfen daha sonra tekrar deneyiniz.")}finally{p(!1)}};return e.jsx("div",{className:"bg-body-tertiary min-vh-100 d-flex flex-row align-items-center",children:e.jsx(k,{children:e.jsx(U,{className:"justify-content-center",children:e.jsx(E,{md:9,lg:7,xl:6,children:e.jsx(L,{className:"mx-4",children:e.jsx(I,{className:"p-4",children:e.jsxs(K,{onSubmit:b,children:[e.jsx("h1",{children:"Kayıt"}),e.jsx("p",{className:"text-body-secondary",children:"Hesabınızı oluşturun"}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(m,{icon:R})}),e.jsx(l,{placeholder:"User Name",autoComplete:"username",value:i,onChange:s=>C(s.target.value)})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:"@"}),e.jsx(l,{placeholder:"Email",autoComplete:"email",value:u,onChange:s=>f(s.target.value)})]}),e.jsxs(o,{className:"mb-3",children:[e.jsx(n,{children:e.jsx(m,{icon:x})}),e.jsx(l,{type:"password",placeholder:"Şifre",autoComplete:"new-password",value:c,onChange:s=>j(s.target.value)})]}),e.jsxs(o,{className:"mb-4",children:[e.jsx(n,{children:e.jsx(m,{icon:x})}),e.jsx(l,{type:"password",placeholder:"şifre tekrar",autoComplete:"new-password",value:d,onChange:s=>g(s.target.value)})]}),e.jsx("div",{className:"d-grid",children:e.jsx(z,{color:"success",type:"submit",disabled:h,children:h?"Oluşturuluyor...":"Hesabı Oluştur"})})]})})})})})})})};export{J as default};
